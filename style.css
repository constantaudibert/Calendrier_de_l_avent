/* -------------------------------------------------------------------
   POLICES GOOGLE FONTS
   ------------------------------------------------------------------- */
/* Importation des polices pour un style festif et moderne */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Satisfy&display=swap');

/* -------------------------------------------------------------------
   STYLES G√âN√âRAUX ET PAGE D'ATTENTE (FOND BLANC NEIGE)
   ------------------------------------------------------------------- */

body {
    font-family: 'Montserrat', sans-serif;
    /* Fond blanc cass√©/neige */
    background-color: #f7f7f7; 
    /* Texte gris fonc√© pour la lisibilit√© sur fond clair */
    color: #444444; 
    margin: 0;
    padding: 0;
    text-align: center;
    /* Centrage du contenu principal */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    overflow-x: hidden;
}

/* Page d'attente - Le conteneur de la carte */
#page-attente {
    /* Fond blanc l√©g√®rement transparent pour le contraste */
    background: rgba(255, 255, 255, 0.95); 
    border-radius: 20px;
    /* Ombre subtile */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); 
    padding: 40px 30px;
    max-width: 700px;
    margin: 20px;
    animation: fadeInScale 1s ease-out forwards;
    
    /* Correction : Utilise Flexbox pour organiser les √©l√©ments verticalement (Sapin, H1, P) */
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
}

#page-attente h1 {
    /* √âcriture Dor√©e */
    color: #DAA520; 
    margin-bottom: 15px;
    margin-top: 15px; /* S√©pare du sapin/texte pr√©c√©dent */
    font-size: 2.5em;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); 
}

#page-attente p {
    font-size: 1.1em;
    line-height: 1.6;
    margin-bottom: 15px; /* Marge ajust√©e pour la coh√©sion du texte */
}

#page-attente strong {
    /* Mots importants en Dor√© */
    color: #DAA520;
}

/* -------------------------------------------------------------------
   LE SAPIN EN CONSTRUCTION (CORRECTION DE POSITIONNEMENT)
   ------------------------------------------------------------------- */

.sapin-construction {
    /* Conteneur : ESSENTIEL pour positionner le tronc et le feuillage */
    width: 180px; 
    height: 200px;
    /* Marge du bas r√©duite pour le rapprocher du titre/texte suivant */
    margin: 30px auto 10px auto; 
    position: relative; 
    transform-origin: bottom center; 
    animation: sapinPulse 2s ease-in-out infinite alternate;
}

/* Tronc (Le ::before) */
.sapin-construction::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 25px;
    height: 45px;
    background-color: #8B4513; /* Marron fonc√© */
    border-radius: 5px;
    z-index: 1;
}

/* Feuillage (Le ::after) */
.sapin-construction::after {
    content: '';
    position: absolute;
    bottom: 40px; 
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 90px solid transparent; 
    border-right: 90px solid transparent;
    border-bottom: 160px solid #28a745; /* Vert sapin */
    border-radius: 5px;
    z-index: 2;
    filter: drop-shadow(0 5px 8px rgba(0,0,0,0.3)); 
    animation: constructionEffect 3s ease-in-out infinite alternate;
}

/* √âtoile (Le .star) */
.sapin-construction .star {
    position: absolute;
    top: -15px; /* Positionnement au-dessus de la cime */
    left: 50%;
    transform: translateX(-50%);
    color: #DAA520; /* Bien Dor√©e */
    font-size: 3em; 
    z-index: 3;
    animation: clignoter 1.5s infinite alternate;
}

/* Keyframes des animations */
@keyframes fadeInScale {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

@keyframes clignoter {
    0% { opacity: 0.4; transform: scale(0.9) translateX(-50%); }
    100% { opacity: 1; transform: scale(1) translateX(-50%); }
}

@keyframes constructionEffect {
    0% { transform: translateX(-50%) translateY(0) scaleY(0.8); opacity: 0.9; }
    100% { transform: translateX(-50%) translateY(-10px) scaleY(1); opacity: 1; }
}

@keyframes sapinPulse {
    0% { transform: scale(1); }
    100% { transform: scale(1.03); }
}


/* -------------------------------------------------------------------
   STYLES DU CALENDRIER LUI-M√äME
   ------------------------------------------------------------------- */

#calendrier {
    /* Grille responsive */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); 
    gap: 15px;
    padding: 20px;
    max-width: 1200px;
    margin: 50px auto;
}

.case {
    /* Style de base des cases */
    background-color: #c0392b; /* Rouge de No√´l */
    border: 3px solid #DAA520; /* Contour Dor√© Vif */
    border-radius: 8px;
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Satisfy', cursive; 
    font-size: 2.8em;
    font-weight: bold;
    color: white; 
    box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease-in-out;
    cursor: default;
    position: relative; 
}

/* Style pour les cases d√©verrouill√©es (clicables) */
.case.unlocked {
    background-color: #27ae60; /* Vert */
    cursor: pointer;
    box-shadow: 0 0 15px rgba(218, 165, 32, 0.5); /* Lueur Dor√©e */
}

.case.unlocked:hover {
    transform: scale(1.08) rotate(2deg);
    background-color: #2ecc71; 
}

/* Style pour les cases verrouill√©es (non accessibles) */
.case.locked {
    background-color: #7f8c8d; /* Gris fonc√© */
    border-color: #bdc3c7; /* Gris clair */
    cursor: not-allowed;
    filter: grayscale(30%); 
}

/* Cadenas sur les cases verrouill√©es */
.case.locked::after {
    content: 'üîí'; 
    position: absolute;
    bottom: 5px;
    right: 5px;
    font-size: 1.2em;
    opacity: 0.8;
}

/* -------------------------------------------------------------------
   STYLES DE LA MODALE/POPUP
   ------------------------------------------------------------------- */

.modal {
    display: none; 
    position: fixed; 
    z-index: 1000; 
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    overflow: auto; 
    background-color: rgba(0,0,0,0.85); 
    display: flex; 
    align-items: center; 
    justify-content: center; 
}

.modal-content {
    background-color: #fefefe;
    margin: auto; 
    padding: 30px;
    border: 1px solid #888;
    width: 90%; 
    max-width: 700px;
    border-radius: 15px;
    color: #0d1b2a; 
    position: relative;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.7);
    animation: slideInFromTop 0.6s ease-out forwards;
}

@keyframes slideInFromTop {
    from { transform: translateY(-100px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.modal-content h2 {
    color: #c0392b;
    margin-top: 0;
}

.modal-content img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin-top: 15px;
}

.close-button {
    color: #aaa;
    position: absolute; 
    top: 10px;
    right: 20px;
    font-size: 35px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s ease;
}

.close-button:hover,
.close-button:focus {
    color: #e74c3c; 
}


/* -------------------------------------------------------------------
   MEDIA QUERIES POUR LA RESPONSIVIT√â
   ------------------------------------------------------------------- */

/* Pour les petits √©crans (smartphones) */
@media (max-width: 768px) {
    #page-attente {
        padding: 25px 20px;
    }

    #page-attente h1 {
        font-size: 2em;
    }

    /* Ajustement du sapin sur mobile */
    .sapin-construction {
        width: 150px;
        height: 180px;
        margin-top: 20px;
        margin-bottom: 5px; /* Rapproche encore plus le sapin du texte sur mobile */
    }

    .sapin-construction::after {
        border-left: 75px solid transparent;
        border-right: 75px solid transparent;
        border-bottom: 130px solid #28a745;
    }

    .sapin-construction .star {
        font-size: 2.5em;
        top: -10px;
    }

    #calendrier {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); 
        gap: 10px;
        padding: 10px;
    }

    .case {
        height: 100px;
        font-size: 2em;
    }

    .modal-content {
        width: 95%;
        padding: 20px;
        margin: 10% auto;
    }
}